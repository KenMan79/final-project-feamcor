<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="957px" preserveAspectRatio="none" style="width:1320px;height:957px;" version="1.1" viewBox="0 0 1320 957" width="1320px" zoomAndPan="magnify"><defs><filter height="300%" id="f1y20vwrqk0ov8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="300" x="0" y="9.668">Consensys Academy Developer Bootcamp 2019 - Final Project</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="3" y="21.4453"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="326" x="491" y="40.957">Bileto smart contract - State Diagram</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="0" x="657" y="62.1563"/><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="560.4883" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="351" x="6" y="213.4531"/><rect fill="#FFFFFF" height="528" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="345" x="9" y="242.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="6" x2="357" y1="239.9414" y2="239.9414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="163.5" y="231.9883">Store</text><ellipse cx="164.793" cy="262.9414" fill="#000000" filter="url(#f1y20vwrqk0ov8)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="50" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="114" x="107.793" y="325.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="107.793" x2="221.793" y1="352.4297" y2="352.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="117.793" y="344.4766">Store.Created</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="107" x="35.293" y="428.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="35.293" x2="142.293" y1="455.4297" y2="455.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="50.293" y="447.4766">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="40.293" y="472.0313">By Store.Owner</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="206" x="72.793" y="636.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="72.793" x2="278.793" y1="663.4297" y2="663.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="132.293" y="655.4766">Store.Closed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="77.793" y="680.0313">By Store.Owner</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="77.793" y="694.1641">Store.RefundableBalance is Zero</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="136" x="107.793" y="532.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="107.793" x2="243.793" y1="559.4297" y2="559.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="117.793" y="551.4766">Store.Suspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="112.793" y="576.0313">By Store.Owner</text><ellipse cx="175.793" cy="748.9414" fill="none" filter="url(#f1y20vwrqk0ov8)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="176.293" cy="749.4414" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><!--link *start*Store to Store.Created--><path d="M164.793,273.0361 C164.793,284.5737 164.793,304.0033 164.793,320.5717 " fill="none" id="*start*Store-Store.Created" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="164.793,325.6099,168.793,316.6099,164.793,320.6099,160.793,316.6099,164.793,325.6099" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="165.793" y="304.5098">constructor()</text><!--link Store.Created to Store.Open--><path d="M146.3955,375.9959 C135.6339,390.6515 121.9839,409.2406 110.6729,424.6444 " fill="none" id="Store.Created-Store.Open" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="107.549,428.8986,116.0998,424.0116,110.5083,424.8684,109.6515,419.2768,107.549,428.8986" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="131.793" y="407.5098">openStore()</text><!--link Store.Created to Store.Closed--><path d="M193.7962,376.0722 C198.9717,381.5669 203.9349,387.6381 207.793,393.9414 C241.6916,449.3253 241.7409,468.9543 252.793,532.9414 C259.3002,570.6161 273.1565,585.4077 254.793,618.9414 C251.9221,624.1839 248.2495,628.9614 244.0643,633.2996 " fill="none" id="Store.Created-Store.Closed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="240.4344,636.8408,249.6697,633.419,244.0133,633.3492,244.0831,627.6928,240.4344,636.8408" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="249.793" y="511.5098">closeStore()</text><!--link Store.Open to Store.Suspended--><path d="M63.8813,480.0993 C56.104,491.2316 51.2986,504.1594 58.793,514.9414 C61.9265,519.4495 80.9122,527.2047 102.7091,534.9299 " fill="none" id="Store.Open-Store.Suspended" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="107.6973,536.6808,100.53,529.9258,102.9795,535.0248,97.8805,537.4743,107.6973,536.6808" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="59.793" y="511.5098">suspendStore()</text><!--link Store.Open to Store.Closed--><path d="M60.1357,480.2628 C34.3267,506.7738 3.3463,548.9807 23.793,583.9414 C36.2795,605.2914 56.2744,621.7219 77.7145,634.1985 " fill="none" id="Store.Open-Store.Closed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="82.3093,636.8012,76.4497,628.8851,77.9587,634.3369,72.5069,635.846,82.3093,636.8012" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="24.793" y="563.5098">closeStore()</text><!--link Store.Suspended to Store.Open--><path d="M170.3398,532.8042 C166.9678,521.2924 161.7229,508.0563 153.793,497.9414 C149.6539,492.6618 144.6914,487.7998 139.3775,483.3909 " fill="none" id="Store.Suspended-Store.Open" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="135.2533,480.1083,139.8042,488.8427,139.1654,483.222,144.7861,482.5833,135.2533,480.1083" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="163.793" y="511.5098">openStore()</text><!--link Store.Suspended to Store.Closed--><path d="M175.793,584.186 C175.793,598.2257 175.793,615.8721 175.793,631.4629 " fill="none" id="Store.Suspended-Store.Closed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="175.793,636.6632,179.793,627.6632,175.793,631.6632,171.793,627.6632,175.793,636.6632" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="176.793" y="615.5098">closeStore()</text><!--link Store.Closed to *end*Store--><path d="M175.793,702.2361 C175.793,713.1456 175.793,724.7765 175.793,733.7026 " fill="none" id="Store.Closed-*end*Store" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="175.793,738.8802,179.793,729.8802,175.793,733.8802,171.793,729.8802,175.793,738.8802" style="stroke: #383838; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="839.4883" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="486" x="392.5" y="73.9531"/><rect fill="#FFFFFF" height="807" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="480" x="395.5" y="103.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="392.5" x2="878.5" y1="100.4414" y2="100.4414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="617" y="92.4883">Event</text><ellipse cx="620.6112" cy="123.4414" fill="#000000" filter="url(#f1y20vwrqk0ov8)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="115" x="563.1112" y="186.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="563.1112" x2="678.1112" y1="212.9297" y2="212.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="573.1112" y="204.9766">Event.Created</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="568.1112" y="229.5313">By Store.Owner</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="568.1112" y="243.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="145" x="446.1112" y="304.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="446.1112" x2="591.1112" y1="330.9297" y2="330.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="456.1112" y="322.9766">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="451.1112" y="347.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="451.1112" y="361.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="129" x="624.1112" y="658.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="624.1112" x2="753.1112" y1="684.9297" y2="684.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="634.6112" y="676.9766">Event.Cancelled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="629.1112" y="701.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="629.1112" y="715.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="172" x="526.6112" y="422.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="526.6112" x2="698.6112" y1="448.9297" y2="448.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="536.6112" y="440.9766">Event.SalesSuspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="531.6112" y="465.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="531.6112" y="479.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="154" x="479.6112" y="540.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="479.6112" x2="633.6112" y1="566.9297" y2="566.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="489.6112" y="558.9766">Event.SalesFinished</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="484.6112" y="583.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="484.6112" y="597.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="136" x="469.6112" y="658.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="469.6112" x2="605.6112" y1="684.9297" y2="684.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="479.6112" y="676.9766">Event.Completed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="474.6112" y="701.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="474.6112" y="715.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="108" x="531.6112" y="776.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="531.6112" x2="639.6112" y1="802.9297" y2="802.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="541.6112" y="794.9766">Event.Settled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="536.6112" y="819.5313">By Store.Owner</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="536.6112" y="833.6641">Store.Open</text><ellipse cx="632.6112" cy="888.4414" fill="none" filter="url(#f1y20vwrqk0ov8)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="633.1112" cy="888.9414" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><!--link *start*Event to Event.Created--><path d="M620.6112,133.6616 C620.6112,144.9994 620.6112,163.963 620.6112,181.1324 " fill="none" id="*start*Event-Event.Created" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="620.6112,186.3929,624.6112,177.3929,620.6112,181.3929,616.6112,177.3929,620.6112,186.3929" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="621.6112" y="165.0098">createEvent()</text><!--link Event.Created to Event.SalesStarted--><path d="M592.4692,251.4978 C579.4226,266.5909 563.8597,284.595 550.3916,300.1758 " fill="none" id="Event.Created-Event.SalesStarted" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="547.0154,304.0816,555.9272,299.8887,550.2852,300.299,549.8749,294.657,547.0154,304.0816" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="576.6112" y="283.0098">startTicketSales()</text><!--link Event.Created to Event.Cancelled--><path d="M678.3681,240.7391 C717.3072,259.6053 761.6112,291.1357 761.6112,336.9414 C761.6112,336.9414 761.6112,336.9414 761.6112,572.9414 C761.6112,603.9897 759.689,613.8801 743.6112,640.4414 C740.6817,645.281 737.1527,649.9382 733.3137,654.3344 " fill="none" id="Event.Created-Event.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="729.7092,658.2962,738.7246,654.331,733.074,654.5978,732.8072,648.9473,729.7092,658.2962" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="762.6112" y="460.0098">cancelEvent()</text><!--link Event.SalesStarted to Event.SalesSuspended--><path d="M573.5501,369.5738 C579.8908,374.9609 585.7974,380.9368 590.6112,387.4414 C597.1012,396.2111 601.7333,406.9861 605.0165,417.3312 " fill="none" id="Event.SalesStarted-Event.SalesSuspended" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="606.5221,422.3646,607.7752,412.5958,605.0892,417.5743,600.1107,414.8884,606.5221,422.3646" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="600.6112" y="401.0098">suspendTicketSales()</text><!--link Event.SalesStarted to Event.SalesFinished--><path d="M460.6788,369.6375 C442.1147,383.3419 423.7534,401.1033 413.6112,422.4414 C401.2095,448.5329 399.3582,462.3133 413.6112,487.4414 C427.3147,511.6009 450.8572,529.6656 474.9298,542.8087 " fill="none" id="Event.SalesStarted-Event.SalesFinished" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="479.4285,545.2059,473.367,537.4433,475.0159,542.8545,469.6047,544.5034,479.4285,545.2059" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="414.6112" y="460.0098">endTicketSales()</text><!--link Event.SalesSuspended to Event.SalesStarted--><path d="M526.2858,427.1646 C501.5294,418.3592 480.188,409.5851 476.6112,404.4414 C469.8542,394.7246 472.3362,383.9438 478.6259,373.9021 " fill="none" id="Event.SalesSuspended-Event.SalesStarted" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="481.5388,369.6491,473.153,374.8142,478.7134,373.7743,479.7533,379.3348,481.5388,369.6491" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="477.6112" y="401.0098">startTicketSales()</text><!--link Event.SalesSuspended to Event.SalesFinished--><path d="M597.1607,487.4978 C590.1192,502.3351 581.7428,519.9855 574.4362,535.3815 " fill="none" id="Event.SalesSuspended-Event.SalesFinished" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="572.2056,540.0816,579.678,533.6657,574.3493,535.5645,572.4506,530.2358,572.2056,540.0816" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="588.6112" y="519.0098">endTicketSales()</text><!--link Event.SalesFinished to Event.Completed--><path d="M543.2095,605.6584 C541.3236,611.492 539.6694,617.5793 538.6112,623.4414 C536.8913,632.9683 536.1772,643.3748 535.9988,653.1013 " fill="none" id="Event.SalesFinished-Event.Completed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="535.9519,658.1175,540.0361,649.1554,535.9988,653.1177,532.0364,649.0804,535.9519,658.1175" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="539.6112" y="637.0098">completeEvent()</text><!--link Event.SalesFinished to Event.Cancelled--><path d="M617.9456,605.6906 C625.9506,611.1256 633.7442,617.0829 640.6112,623.4414 C650.2052,632.3251 659.0395,643.4139 666.4435,654.0205 " fill="none" id="Event.SalesFinished-Event.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="669.3148,658.2126,667.5289,648.527,666.4893,654.0875,660.9288,653.0479,669.3148,658.2126" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="656.6112" y="637.0098">cancelEvent()</text><!--link Event.Completed to Event.Settled--><path d="M550.8544,723.4978 C556.8899,738.3351 564.0698,755.9855 570.3326,771.3815 " fill="none" id="Event.Completed-Event.Settled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="572.2445,776.0816,572.5582,766.2377,570.3604,771.4502,565.1479,769.2524,572.2445,776.0816" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="564.6112" y="755.0098">settleEvent()</text><!--link Event.Cancelled to *end*Event--><path d="M680.589,723.7103 C672.9332,754.3203 660.7916,801.2043 648.6112,841.4414 C645.2818,852.4395 641.0811,864.7286 637.8194,873.9817 " fill="none" id="Event.Cancelled-*end*Event" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="636.1154,878.7824,642.8956,871.6389,637.788,874.0704,635.3564,868.9628,636.1154,878.7824" style="stroke: #383838; stroke-width: 1.0;"/><!--link Event.Settled to *end*Event--><path d="M604.9992,841.7361 C611.9759,853.5371 619.4517,866.1823 624.8627,875.3349 " fill="none" id="Event.Settled-*end*Event" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="627.4905,879.7798,626.3536,869.9968,624.946,875.4757,619.467,874.0681,627.4905,879.7798" style="stroke: #383838; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="659.4883" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="376" x="913.5" y="163.9531"/><rect fill="#FFFFFF" height="627" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="370" x="916.5" y="193.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="913.5" x2="1289.5" y1="190.4414" y2="190.4414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1070.5" y="182.4883">Purchase</text><ellipse cx="1090" cy="213.4414" fill="#000000" filter="url(#f1y20vwrqk0ov8)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="93.0195" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="248" x="966" y="276.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="966" x2="1214" y1="302.9297" y2="302.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="1019.5" y="294.9766">Purchase.Completed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="971" y="319.5313">By Customer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="971" y="333.6641">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="971" y="347.7969">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="971" y="361.9297">Purchase.Quantity &lt;= Event.TicketsLeft</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="121.2852" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="169" x="924.5" y="422.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="924.5" x2="1093.5" y1="448.9297" y2="448.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="942.5" y="440.9766">Purchase.Cancelled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="929.5" y="465.5313">By Customer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="929.5" y="479.6641">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="929.5" y="493.7969">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="929.5" y="507.9297">OR Event.SalesSuspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="929.5" y="522.0625">OR Event.SalesFinished</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="929.5" y="536.1953">OR Event.Cancelled</text><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="152" x="945" y="686.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="945" x2="1097" y1="712.9297" y2="712.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="955" y="704.9766">Purchase.Refunded</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="950" y="729.5313">By Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="950" y="743.6641">Store.Open</text><ellipse cx="1084" cy="798.4414" fill="none" filter="url(#f1y20vwrqk0ov8)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="1084.5" cy="798.9414" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1y20vwrqk0ov8)" height="107.1523" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="169" x="1087.5" y="561.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="1087.5" x2="1256.5" y1="587.9297" y2="587.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1103" y="579.9766">Purchase.CheckedIn</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1092.5" y="604.5313">By Customer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1092.5" y="618.6641">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="1092.5" y="632.7969">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="1092.5" y="646.9297">OR Event.SalesSuspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="1092.5" y="661.0625">OR Event.SalesFinished</text><!--link *start*Purchase to Purchase.Completed--><path d="M1090,223.5466 C1090,234.5806 1090,253.1001 1090,271.1832 " fill="none" id="*start*Purchase-Purchase.Completed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1090,276.2654,1094,267.2654,1090,271.2654,1086,267.2654,1090,276.2654" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1091" y="255.0098">purchaseTickets()</text><!--link Purchase.Completed to Purchase.Cancelled--><path d="M1046.3401,369.4882 C1042.1284,375.2811 1038.2303,381.3254 1035,387.4414 C1030.1033,396.7122 1026.0638,406.9888 1022.7511,417.2652 " fill="none" id="Purchase.Completed-Purchase.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1021.1827,422.3055,1027.6763,414.9006,1022.6684,417.5313,1020.0377,412.5234,1021.1827,422.3055" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="1036" y="401.0098">cancelPurchase()</text><!--link Purchase.Cancelled to Purchase.Refunded--><path d="M976.3844,543.6829 C974.2121,549.5631 972.3537,555.5381 971,561.4414 C960.3709,607.7939 952.9106,624.4607 971,668.4414 C972.9711,673.2337 975.6412,677.8128 978.728,682.1197 " fill="none" id="Purchase.Cancelled-Purchase.Refunded" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="981.9432,686.3337,979.664,676.7522,978.9103,682.3586,973.3038,681.6049,981.9432,686.3337" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="972" y="620.0098">refundPurchase()</text><!--link Purchase.Refunded to *end*Purchase--><path d="M1046.9882,751.7361 C1056.7467,764.0504 1067.2336,777.2838 1074.5441,786.5089 " fill="none" id="Purchase.Refunded-*end*Purchase" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1077.6654,790.4477,1075.2106,780.9097,1074.56,786.529,1068.9407,785.8784,1077.6654,790.4477" style="stroke: #383838; stroke-width: 1.0;"/><!--link Purchase.Completed to Purchase.CheckedIn--><path d="M1131.4622,369.7437 C1135.1357,375.4452 1138.4293,381.3988 1141,387.4414 C1164.0361,441.5889 1170.813,508.9368 1172.4223,556.2561 " fill="none" id="Purchase.Completed-Purchase.CheckedIn" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1172.5782,561.3473,1176.3009,552.2291,1172.4252,556.3496,1168.3047,552.4739,1172.5782,561.3473" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="1149" y="401.0098">checkIn()</text><!--link Purchase.CheckedIn to *end*Purchase--><path d="M1146.3102,668.5105 C1127.1758,708.4101 1102.4185,760.0346 1090.7065,784.4569 " fill="none" id="Purchase.CheckedIn-*end*Purchase" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1088.412,789.2415,1095.9105,782.8561,1090.5741,784.7331,1088.6971,779.3968,1088.412,789.2415" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="1308" y="932.6211"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="257" x="1051" y="944.3984">2018-12-21 by Fábio Corrêa &lt;feamcor@gmail.com&gt;</text><!--
@startuml bileto_state_diagram
skinparam Monochrome true
left header Consensys Academy Developer Bootcamp 2019 - Final Project\n
right footer \n2018-12-21 by Fábio Corrêa <feamcor@gmail.com>

title Bileto smart contract - State Diagram\n

state Store {
    [*] - -> Store.Created: constructor()
    Store.Created - -> Store.Open: openStore()
    Store.Open: By Store.Owner
    Store.Created - -> Store.Closed: closeStore()
    Store.Closed: By Store.Owner
    Store.Open - -> Store.Suspended: suspendStore()
    Store.Suspended: By Store.Owner
    Store.Open - -> Store.Closed: closeStore()
    Store.Suspended - -> Store.Open: openStore()
    Store.Suspended - -> Store.Closed: closeStore()
    Store.Closed: Store.RefundableBalance is Zero
    Store.Closed - -> [*]
}

state Event {
    [*] - -> Event.Created: createEvent()
    Event.Created: By Store.Owner
    Event.Created: Store.Open
    Event.Created - -> Event.SalesStarted: startTicketSales()
    Event.SalesStarted: By Event.Organizer
    Event.SalesStarted: Store.Open
    Event.Created - -> Event.Cancelled: cancelEvent()
    Event.Cancelled: By Event.Organizer
    Event.Cancelled: Store.Open
    Event.SalesStarted - -> Event.SalesSuspended: suspendTicketSales()
    Event.SalesSuspended: By Event.Organizer
    Event.SalesSuspended: Store.Open
    Event.SalesStarted - -> Event.SalesFinished: endTicketSales()
    Event.SalesFinished: By Event.Organizer
    Event.SalesFinished: Store.Open
    Event.SalesSuspended - -> Event.SalesStarted: startTicketSales()
    Event.SalesSuspended - -> Event.SalesFinished: endTicketSales()
    Event.SalesFinished - -> Event.Completed: completeEvent()
    Event.Completed: By Event.Organizer
    Event.Completed: Store.Open
    Event.SalesFinished - -> Event.Cancelled: cancelEvent()
    Event.Completed - -> Event.Settled: settleEvent()
    Event.Settled: By Store.Owner
    Event.Settled: Store.Open
    Event.Cancelled - -> [*]
    Event.Settled - -> [*]
}

state Purchase {
    [*] - -> Purchase.Completed: purchaseTickets()
    Purchase.Completed: By Customer
    Purchase.Completed: Store.Open
    Purchase.Completed: Event.SalesStarted
    Purchase.Completed: Purchase.Quantity <= Event.TicketsLeft
    Purchase.Completed - -> Purchase.Cancelled: cancelPurchase()
    Purchase.Cancelled: By Customer
    Purchase.Cancelled: Store.Open
    Purchase.Cancelled: Event.SalesStarted
    Purchase.Cancelled: OR Event.SalesSuspended
    Purchase.Cancelled: OR Event.SalesFinished
    Purchase.Cancelled: OR Event.Cancelled
    Purchase.Cancelled - -> Purchase.Refunded: refundPurchase()
    Purchase.Refunded: By Organizer
    Purchase.Refunded: Store.Open
    Purchase.Refunded - -> [*]
    Purchase.Completed - -> Purchase.CheckedIn: checkIn()
    Purchase.CheckedIn: By Customer
    Purchase.CheckedIn: Store.Open
    Purchase.CheckedIn: Event.SalesStarted
    Purchase.CheckedIn: OR Event.SalesSuspended
    Purchase.CheckedIn: OR Event.SalesFinished
    Purchase.CheckedIn - -> [*]
}

@enduml

PlantUML version 1.2018.12(Sun Oct 21 07:15:15 CLST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_192-b12
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: CL
--></g></svg>