<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="957px" preserveAspectRatio="none" style="width:1456px;height:957px;" version="1.1" viewBox="0 0 1456 957" width="1456px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ufy015ozl4bh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="300" x="0" y="9.668">Consensys Academy Developer Bootcamp 2019 - Final Project</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="3" y="21.4453"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="326" x="559" y="40.957">Bileto smart contract - State Diagram</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="0" x="725" y="62.1563"/><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="546.4883" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="351" x="6" y="220.4531"/><rect fill="#FFFFFF" height="514" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="345" x="9" y="249.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="6" x2="357" y1="246.9414" y2="246.9414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="163.5" y="238.9883">Store</text><ellipse cx="165.0889" cy="269.9414" fill="#000000" filter="url(#f1ufy015ozl4bh)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="50" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="114" x="108.0889" y="332.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="108.0889" x2="222.0889" y1="359.4297" y2="359.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="118.0889" y="351.4766">Store.Created</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="107" x="35.5889" y="435.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="35.5889" x2="142.5889" y1="462.4297" y2="462.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="50.5889" y="454.4766">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="40.5889" y="479.0313">By Store.Owner</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="107" x="122.5889" y="643.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="122.5889" x2="229.5889" y1="670.4297" y2="670.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="132.5889" y="662.4766">Store.Closed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="127.5889" y="687.0313">By Store.Owner</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="136" x="108.0889" y="539.9414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="108.0889" x2="244.0889" y1="566.4297" y2="566.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="118.0889" y="558.4766">Store.Suspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="113.0889" y="583.0313">By Store.Owner</text><ellipse cx="176.0889" cy="741.9414" fill="none" filter="url(#f1ufy015ozl4bh)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="176.5889" cy="742.4414" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><!--link *start*Store to Store.Created--><path d="M165.0889,280.0361 C165.0889,291.5737 165.0889,311.0033 165.0889,327.5717 " fill="none" id="*start*Store-Store.Created" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="165.0889,332.6099,169.0889,323.6099,165.0889,327.6099,161.0889,323.6099,165.0889,332.6099" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="166.0889" y="311.5098">constructor()</text><!--link Store.Created to Store.Open--><path d="M146.6914,382.9959 C135.9298,397.6515 122.2797,416.2406 110.9688,431.6444 " fill="none" id="Store.Created-Store.Open" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="107.8449,435.8986,116.3958,431.0117,110.8042,431.8684,109.9475,426.2768,107.8449,435.8986" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="132.0889" y="414.5098">openStore()</text><!--link Store.Created to Store.Closed--><path d="M194.0921,383.0722 C199.2676,388.5669 204.2308,394.6381 208.0889,400.9414 C241.9875,456.3253 242.0368,475.9543 253.0889,539.9414 C259.5961,577.6161 274.5397,593.0265 255.0889,625.9414 C250.0482,634.4713 242.6723,641.4422 234.4237,647.1036 " fill="none" id="Store.Created-Store.Closed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="229.7607,650.1157,239.491,648.5922,233.9606,647.4027,235.1501,641.8723,229.7607,650.1157" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="250.0889" y="518.5098">closeStore()</text><!--link Store.Open to Store.Suspended--><path d="M64.1772,487.0993 C56.3999,498.2316 51.5945,511.1594 59.0889,521.9414 C62.2223,526.4495 81.2081,534.2047 103.005,541.9299 " fill="none" id="Store.Open-Store.Suspended" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="107.9931,543.6808,100.8258,536.9258,103.2753,542.0248,98.1763,544.4743,107.9931,543.6808" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="60.0889" y="518.5098">suspendStore()</text><!--link Store.Open to Store.Closed--><path d="M60.1753,487.4157 C34.1622,514.0485 3.0219,556.3509 24.0889,590.9414 C44.409,624.3058 83.974,644.1081 117.6439,655.4769 " fill="none" id="Store.Open-Store.Closed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="122.5658,657.0936,115.2637,650.4846,117.8155,655.5332,112.767,658.0851,122.5658,657.0936" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="25.0889" y="570.5098">closeStore()</text><!--link Store.Suspended to Store.Open--><path d="M170.6357,539.8042 C167.2637,528.2924 162.0187,515.0563 154.0889,504.9414 C149.9497,499.6618 144.9873,494.7998 139.6734,490.3909 " fill="none" id="Store.Suspended-Store.Open" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="135.5492,487.1083,140.0999,495.8428,139.4613,490.2221,145.082,489.5835,135.5492,487.1083" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="164.0889" y="518.5098">openStore()</text><!--link Store.Suspended to Store.Closed--><path d="M176.0889,591.1493 C176.0889,605.5245 176.0889,623.5375 176.0889,638.6604 " fill="none" id="Store.Suspended-Store.Closed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="176.0889,643.6688,180.0889,634.6688,176.0889,638.6688,172.0889,634.6688,176.0889,643.6688" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="177.0889" y="622.5098">closeStore()</text><!--link Store.Closed to *end*Store--><path d="M176.0889,695.2063 C176.0889,705.8215 176.0889,717.7491 176.0889,726.8976 " fill="none" id="Store.Closed-*end*Store" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="176.0889,731.932,180.0889,722.932,176.0889,726.932,172.0889,722.932,176.0889,731.932" style="stroke: #383838; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="839.4883" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="616" x="392.5" y="73.9531"/><rect fill="#FFFFFF" height="807" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="610" x="395.5" y="103.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="392.5" x2="1008.5" y1="100.4414" y2="100.4414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="682" y="92.4883">Event</text><ellipse cx="461" cy="123.4414" fill="#000000" filter="url(#f1ufy015ozl4bh)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="115" x="403.5" y="186.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="403.5" x2="518.5" y1="212.9297" y2="212.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="413.5" y="204.9766">Event.Created</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="408.5" y="229.5313">By Store.Owner</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="408.5" y="243.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="145" x="517.5" y="304.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="517.5" x2="662.5" y1="330.9297" y2="330.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="527.5" y="322.9766">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="522.5" y="347.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="522.5" y="361.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="129" x="591.5" y="658.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="591.5" x2="720.5" y1="684.9297" y2="684.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="602" y="676.9766">Event.Cancelled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="596.5" y="701.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="596.5" y="715.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="172" x="631" y="422.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="631" x2="803" y1="448.9297" y2="448.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="641" y="440.9766">Event.SalesSuspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="636" y="465.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="636" y="479.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="154" x="758" y="540.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="758" x2="912" y1="566.9297" y2="566.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="768" y="558.9766">Event.SalesFinished</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="763" y="583.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="763" y="597.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="136" x="746" y="658.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="746" x2="882" y1="684.9297" y2="684.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="756" y="676.9766">Event.Completed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="751" y="701.5313">By Event.Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="751" y="715.6641">Store.Open</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="64.7539" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="108" x="735" y="776.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="735" x2="843" y1="802.9297" y2="802.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="745" y="794.9766">Event.Settled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="740" y="819.5313">By Store.Owner</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="740" y="833.6641">Store.Open</text><ellipse cx="702" cy="888.4414" fill="none" filter="url(#f1ufy015ozl4bh)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="702.5" cy="888.9414" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><!--link *start*Event to Event.Created--><path d="M461,133.6616 C461,144.9994 461,163.963 461,181.1324 " fill="none" id="*start*Event-Event.Created" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="461,186.3929,465,177.3929,461,181.3929,457,177.3929,461,186.3929" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="462" y="165.0098">createEvent()</text><!--link Event.Created to Event.SalesStarted--><path d="M496.5913,251.4978 C513.2312,266.7188 533.1077,284.9004 550.2396,300.5714 " fill="none" id="Event.Created-Event.SalesStarted" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="554.077,304.0816,550.136,295.0556,550.3877,300.7069,544.7364,300.9585,554.077,304.0816" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="535" y="283.0098">startTicketSales()</text><!--link Event.Created to Event.Cancelled--><path d="M454.1681,251.5886 C449.8194,275.1885 445,307.895 445,336.9414 C445,336.9414 445,336.9414 445,572.9414 C445,638.9735 524.6911,668.4109 586.1235,681.2936 " fill="none" id="Event.Created-Event.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="591.2591,682.3413,583.2403,676.6231,586.36,681.3419,581.6412,684.4616,591.2591,682.3413" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="446" y="460.0098">cancelEvent()</text><!--link Event.SalesStarted to Event.SalesSuspended--><path d="M583.3366,369.449 C582.6358,381.3732 584.0955,394.3968 591,404.4414 C599.7555,417.1788 612.2949,426.7042 626.1046,433.8275 " fill="none" id="Event.SalesStarted-Event.SalesSuspended" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="630.833,436.1523,624.5213,428.5917,626.346,433.9462,620.9915,435.7709,630.833,436.1523" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="592" y="401.0098">suspendTicketSales()</text><!--link Event.SalesStarted to Event.SalesFinished--><path d="M662.5673,342.0123 C728.7832,348.2392 819.8851,361.3637 844,387.4414 C884.9547,431.7294 870.7921,463.4916 858,522.4414 C857.0749,526.7045 855.7575,531.0395 854.2155,535.2875 " fill="none" id="Event.SalesStarted-Event.SalesFinished" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="852.3122,540.2248,859.2818,533.266,854.1107,535.5595,851.8173,530.3884,852.3122,540.2248" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="872" y="460.0098">endTicketSales()</text><!--link Event.SalesStarted to Event.Cancelled--><path d="M583.2973,369.6985 C582.3409,375.5817 581.5098,381.6753 581,387.4414 C577.5939,425.9661 564.5423,433.1755 584,522.4414 C594.2998,569.6939 617.7574,620.2465 635.1132,653.5163 " fill="none" id="Event.SalesStarted-Event.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="637.6273,658.2971,636.9785,648.4696,635.3,653.8717,629.8979,652.1932,637.6273,658.2971" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="585" y="519.0098">cancelEvent()</text><!--link Event.SalesSuspended to Event.SalesStarted--><path d="M729.5802,422.1319 C731.9853,410.3065 731.9274,397.4289 725,387.4414 C717.4814,376.6015 693.2557,366.1243 667.3604,357.5498 " fill="none" id="Event.SalesSuspended-Event.SalesStarted" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="662.5094,355.9712,669.8298,362.56,667.264,357.5185,672.3054,354.9527,662.5094,355.9712" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="731" y="401.0098">startTicketSales()</text><!--link Event.SalesSuspended to Event.SalesFinished--><path d="M730.7176,487.7353 C736.707,499.5588 744.5435,512.4393 754,522.4414 C758.9951,527.7247 764.6573,532.6804 770.6111,537.2656 " fill="none" id="Event.SalesSuspended-Event.SalesFinished" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="774.775,540.3803,769.9639,531.7865,770.7711,537.3855,765.1722,538.1927,774.775,540.3803" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="755" y="519.0098">endTicketSales()</text><!--link Event.SalesSuspended to Event.Cancelled--><path d="M691.9354,487.632 C681.6776,502.8496 670.8593,521.7041 665,540.4414 C653.4057,577.5185 652.2299,622.1885 653.2894,653.1859 " fill="none" id="Event.SalesSuspended-Event.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="653.4941,658.4242,657.1393,649.2747,653.2987,653.428,649.1454,649.5874,653.4941,658.4242" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="666" y="578.0098">cancelEvent()</text><!--link Event.SalesFinished to Event.Completed--><path d="M829.2061,605.4978 C826.5883,620.2072 823.4785,637.6814 820.7553,652.9829 " fill="none" id="Event.SalesFinished-Event.Completed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="819.8479,658.0816,825.363,649.9218,820.724,653.159,817.4868,648.5199,819.8479,658.0816" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="826" y="637.0098">completeEvent()</text><!--link Event.SalesFinished to Event.Cancelled--><path d="M765.1904,605.4772 C754.8355,611.0757 744.471,617.1363 735,623.4414 C721.119,632.6823 706.9623,644.0505 694.5388,654.8049 " fill="none" id="Event.SalesFinished-Event.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="690.741,658.1197,700.1517,655.2148,694.5078,654.8317,694.8909,649.1878,690.741,658.1197" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="736" y="637.0098">cancelEvent()</text><!--link Event.Completed to Event.Settled--><path d="M807.1025,723.4978 C803.9861,738.2072 800.2839,755.6814 797.0421,770.9829 " fill="none" id="Event.Completed-Event.Settled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="795.9618,776.0816,801.7403,768.1061,796.9981,771.1902,793.914,766.448,795.9618,776.0816" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="803" y="755.0098">settleEvent()</text><!--link Event.Settled to *end*Event--><path d="M753.3627,841.5065 C738.9461,854.6803 723.3377,868.9432 713.1583,878.2451 " fill="none" id="Event.Settled-*end*Event" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="709.407,881.6729,718.7492,878.5545,713.098,878.3,713.3525,872.6489,709.407,881.6729" style="stroke: #383838; stroke-width: 1.0;"/><!--link Event.Cancelled to *end*Event--><path d="M663.596,723.5545 C673.6792,766.8467 691.0727,841.5252 698.4872,873.3594 " fill="none" id="Event.Cancelled-*end*Event" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="699.6705,878.4398,701.5245,868.767,698.5362,873.5702,693.7331,870.5819,699.6705,878.4398" style="stroke: #383838; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="687.4883" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="382" x="1043.5" y="149.9531"/><rect fill="#FFFFFF" height="655" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="376" x="1046.5" y="179.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="1043.5" x2="1425.5" y1="176.4414" y2="176.4414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1203.5" y="168.4883">Purchase</text><ellipse cx="1226" cy="199.4414" fill="#000000" filter="url(#f1ufy015ozl4bh)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="93.0195" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="248" x="1102" y="262.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="1102" x2="1350" y1="288.9297" y2="288.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="1155.5" y="280.9766">Purchase.Completed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1107" y="305.5313">By Customer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1107" y="319.6641">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="1107" y="333.7969">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="1107" y="347.9297">Purchase.Quantity &lt;= Event.TicketsLeft</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="135.418" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="181" x="1054.5" y="408.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="1054.5" x2="1235.5" y1="434.9297" y2="434.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="1078.5" y="426.9766">Purchase.Cancelled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1059.5" y="451.5313">By Customer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="161" x="1059.5" y="465.6641">Store.Open OR Store.Closed</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="1059.5" y="479.7969">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="1059.5" y="493.9297">OR Event.SalesSuspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="1059.5" y="508.0625">OR Event.SalesFinished</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="1059.5" y="522.1953">OR Event.Cancelled</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="1059.5" y="536.3281">OR Store.Closed</text><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="78.8867" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="152" x="1081" y="686.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="1081" x2="1233" y1="712.9297" y2="712.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="1091" y="704.9766">Purchase.Refunded</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="1086" y="729.5313">By Organizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1086" y="743.6641">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="1086" y="757.7969">OR Store.Closed</text><ellipse cx="1220" cy="812.4414" fill="none" filter="url(#f1ufy015ozl4bh)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="1220.5" cy="812.9414" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#f1ufy015ozl4bh)" height="107.1523" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="169" x="1223.5" y="561.4414"/><line style="stroke: #383838; stroke-width: 1.5;" x1="1223.5" x2="1392.5" y1="587.9297" y2="587.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1239" y="579.9766">Purchase.CheckedIn</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="1228.5" y="604.5313">By Customer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1228.5" y="618.6641">Store.Open</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="1228.5" y="632.7969">Event.SalesStarted</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="1228.5" y="646.9297">OR Event.SalesSuspended</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="1228.5" y="661.0625">OR Event.SalesFinished</text><!--link *start*Purchase to Purchase.Completed--><path d="M1226,209.5466 C1226,220.5806 1226,239.1001 1226,257.1832 " fill="none" id="*start*Purchase-Purchase.Completed" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1226,262.2654,1230,253.2654,1226,257.2654,1222,253.2654,1226,262.2654" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1227" y="241.0098">purchaseTickets()</text><!--link Purchase.Completed to Purchase.Cancelled--><path d="M1181.9664,355.8033 C1177.8773,361.4936 1174.1094,367.4283 1171,373.4414 C1166.137,382.8455 1162.1456,393.2141 1158.8798,403.6355 " fill="none" id="Purchase.Completed-Purchase.Cancelled" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1157.4299,408.4241,1163.8664,400.9695,1158.8789,403.6387,1156.2097,398.6511,1157.4299,408.4241" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="1172" y="387.0098">cancelPurchase()</text><!--link Purchase.Cancelled to Purchase.Refunded--><path d="M1111.8911,543.6918 C1109.9285,549.5963 1108.2477,555.5621 1107,561.4414 C1097.1279,607.961 1090.3422,623.8988 1107,668.4414 C1108.7377,673.088 1111.0392,677.607 1113.702,681.9363 " fill="none" id="Purchase.Cancelled-Purchase.Refunded" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1116.4778,686.1999,1114.9195,676.4751,1113.7498,682.0097,1108.2152,680.84,1116.4778,686.1999" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="1108" y="620.0098">refundPurchase()</text><!--link Purchase.Refunded to *end*Purchase--><path d="M1185.9186,765.6471 C1195.0364,778.166 1204.4446,791.0836 1211.0599,800.1665 " fill="none" id="Purchase.Refunded-*end*Purchase" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1214.0696,804.2988,1212.0045,794.6689,1211.126,800.2571,1205.5378,799.3786,1214.0696,804.2988" style="stroke: #383838; stroke-width: 1.0;"/><!--link Purchase.Completed to Purchase.CheckedIn--><path d="M1267.5095,355.7236 C1271.1743,361.4289 1274.4528,367.3888 1277,373.4414 C1301.7301,432.2029 1308.0809,505.5485 1309.1248,555.8985 " fill="none" id="Purchase.Completed-Purchase.CheckedIn" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1309.2141,561.0032,1313.0559,551.9345,1309.1265,556.004,1305.0571,552.0746,1309.2141,561.0032" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="1284" y="387.0098">checkIn()</text><!--link Purchase.CheckedIn to *end*Purchase--><path d="M1284.7977,668.7168 C1272.2885,697.487 1256.4865,733.4785 1242,765.4414 C1236.9326,776.622 1231.0274,789.2148 1226.6116,798.5495 " fill="none" id="Purchase.CheckedIn-*end*Purchase" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1224.4505,803.1093,1231.9196,796.6896,1226.5919,798.5911,1224.6904,793.2634,1224.4505,803.1093" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="1444" y="932.6211"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="257" x="1187" y="944.3984">2019-01-22 by Fábio Corrêa &lt;feamcor@gmail.com&gt;</text><!--
@startuml bileto_state_diagram
skinparam Monochrome true
left header Consensys Academy Developer Bootcamp 2019 - Final Project\n
right footer \n2019-01-22 by Fábio Corrêa <feamcor@gmail.com>

title Bileto smart contract - State Diagram\n

state Store {
    [*] - -> Store.Created: constructor()
    Store.Created - -> Store.Open: openStore()
    Store.Open: By Store.Owner
    Store.Created - -> Store.Closed: closeStore()
    Store.Closed: By Store.Owner
    Store.Open - -> Store.Suspended: suspendStore()
    Store.Suspended: By Store.Owner
    Store.Open - -> Store.Closed: closeStore()
    Store.Suspended - -> Store.Open: openStore()
    Store.Suspended - -> Store.Closed: closeStore()
    Store.Closed - -> [*]
}

state Event {
    [*] - -> Event.Created: createEvent()
    Event.Created: By Store.Owner
    Event.Created: Store.Open
    Event.Created - -> Event.SalesStarted: startTicketSales()
    Event.Created - -> Event.Cancelled: cancelEvent()
    Event.SalesStarted: By Event.Organizer
    Event.SalesStarted: Store.Open
    Event.SalesStarted - -> Event.SalesSuspended: suspendTicketSales()
    Event.SalesStarted - -> Event.SalesFinished: endTicketSales()
    Event.SalesStarted - -> Event.Cancelled: cancelEvent()
    Event.SalesSuspended: By Event.Organizer
    Event.SalesSuspended: Store.Open
    Event.SalesSuspended - -> Event.SalesStarted: startTicketSales()
    Event.SalesSuspended - -> Event.SalesFinished: endTicketSales()
    Event.SalesSuspended - -> Event.Cancelled: cancelEvent()
    Event.SalesFinished: By Event.Organizer
    Event.SalesFinished: Store.Open
    Event.SalesFinished - -> Event.Completed: completeEvent()
    Event.SalesFinished - -> Event.Cancelled: cancelEvent()
    Event.Completed: By Event.Organizer
    Event.Completed: Store.Open
    Event.Completed - -> Event.Settled: settleEvent()
    Event.Settled: By Store.Owner
    Event.Settled: Store.Open
    Event.Settled - -> [*]
    Event.Cancelled: By Event.Organizer
    Event.Cancelled: Store.Open
    Event.Cancelled - -> [*]
}

state Purchase {
    [*] - -> Purchase.Completed: purchaseTickets()
    Purchase.Completed: By Customer
    Purchase.Completed: Store.Open
    Purchase.Completed: Event.SalesStarted
    Purchase.Completed: Purchase.Quantity <= Event.TicketsLeft
    Purchase.Completed - -> Purchase.Cancelled: cancelPurchase()
    Purchase.Cancelled: By Customer
    Purchase.Cancelled: Store.Open OR Store.Closed
    Purchase.Cancelled: Event.SalesStarted
    Purchase.Cancelled: OR Event.SalesSuspended
    Purchase.Cancelled: OR Event.SalesFinished
    Purchase.Cancelled: OR Event.Cancelled
    Purchase.Cancelled: OR Store.Closed
    Purchase.Cancelled - -> Purchase.Refunded: refundPurchase()
    Purchase.Refunded: By Organizer
    Purchase.Refunded: Store.Open
    Purchase.Refunded: OR Store.Closed
    Purchase.Refunded - -> [*]
    Purchase.Completed - -> Purchase.CheckedIn: checkIn()
    Purchase.CheckedIn: By Customer
    Purchase.CheckedIn: Store.Open
    Purchase.CheckedIn: Event.SalesStarted
    Purchase.CheckedIn: OR Event.SalesSuspended
    Purchase.CheckedIn: OR Event.SalesFinished
    Purchase.CheckedIn - -> [*]
}

@enduml

PlantUML version 1.2018.14(Fri Dec 21 13:33:16 CLST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_202-ea-b03
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: CL
--></g></svg>